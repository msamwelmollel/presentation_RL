!function(){window.tentacles=window.tentacles||{};var t,S=window.console,I=function(){},d=function(){},f=["h1","h2","h3","h4","h5","h6","p","span","strong","cite"],g=["img","source"],u="landing",r="article",o=(window.tentaclesProcessedABTitles=!1,window.tentacles.initiated=!1,window.tentacles.flickerHandling||!1),y=window.tentacles.apiToken;function z(){o&&document.body.classList.remove("tentacles-flicker-handling")}y||""===y||S.error('TENTACLES: No API key given. Please add a valid apiToken above this script call: window.tentacles = { apiToken: "09876543edfghy7"};'),window.tentacles.version="1716451034746",t="1"===localStorage.getItem("tentacles-version")?(S.log("TENTACLES: Version 1 detected and loaded"),window.tentacles.installUri?window.tentacles.installUri+"/tentacles.js?":"https://tentacles.smartocto.com/ten/tentacles.js?v=1716451034746"):window.tentacles.installUri?window.tentacles.installUri+"/tentacles-20.js?":"https://tentacles.smartocto.com/ten/tentacles-20.js?v=1716451034746";var w,n,l,a,i,s=null,c=null,m=null,h=null,p=null,Z=null,K={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,a,r,o,i,l="",s=0;for(e=K._utf8_encode(e);s<e.length;)a=(t=e.charCodeAt(s++))>>2,r=(3&t)<<4|(t=e.charCodeAt(s++))>>4,o=(15&t)<<2|(n=e.charCodeAt(s++))>>6,i=63&n,isNaN(t)?o=i=64:isNaN(n)&&(i=64),l=l+this._keyStr.charAt(a)+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(i);return l},decode:function(e){var t,n,a,r,o,i,l="",s=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<e.length;)a=this._keyStr.indexOf(e.charAt(s++)),t=(15&(r=this._keyStr.indexOf(e.charAt(s++))))<<4|(o=this._keyStr.indexOf(e.charAt(s++)))>>2,n=(3&o)<<6|(i=this._keyStr.indexOf(e.charAt(s++))),l+=String.fromCharCode(a<<2|r>>4),64!==o&&(l+=String.fromCharCode(t)),64!==i&&(l+=String.fromCharCode(n));return l=K._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):t=127<a&&a<2048?(t+=String.fromCharCode(a>>6|192))+String.fromCharCode(63&a|128):(t=(t+=String.fromCharCode(a>>12|224))+String.fromCharCode(a>>6&63|128))+String.fromCharCode(63&a|128)}return t},_utf8_decode:function(e){var t,n="",a=0;for(c1=c2=0;a<e.length;)(t=e.charCodeAt(a))<128?(n+=String.fromCharCode(t),a++):191<t&&t<224?(c2=e.charCodeAt(a+1),n+=String.fromCharCode((31&t)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),n+=String.fromCharCode((15&t)<<12|(63&c2)<<6|63&c3),a+=3);return n}},Q=(w=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={},i={compressToBase64:function(e){if(null==e)return"";var t=i._compress(e,6,function(e){return n.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""===t?null:i._decompress(t.length,32,function(e){return ee(n,t.charAt(e))})},compressToUTF16:function(e){return null==e?"":i._compress(e,15,function(e){return w(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""===t?null:i._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),a=0,r=t.length;a<r;a++){var o=t.charCodeAt(a);n[2*a]=o>>>8,n[2*a+1]=o%256}return n},decompressFromUint8Array:function(e){if(null==e)return i.decompress(e);for(var t=new Array(e.length/2),n=0,a=t.length;n<a;n++)t[n]=256*e[2*n]+e[2*n+1];var r=[];return t.forEach(function(e){r.push(w(e))}),i.decompress(r.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return l.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""===t?null:(t=t.replace(/ /g,"+"),i._decompress(t.length,32,function(e){return ee(l,t.charAt(e))}))},compress:function(e){return i._compress(e,16,function(e){return w(e)})},_compress:function(e,t,n){if(null==e)return"";for(var a,r,o,i,l={},s={},c="",d=2,u=3,g=2,m=[],h=0,f=0,p=0;p<e.length;p+=1)if(o=e.charAt(p),Object.prototype.hasOwnProperty.call(l,o)||(l[o]=u++,s[o]=!0),i=c+o,Object.prototype.hasOwnProperty.call(l,i))c=i;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(a=0;a<g;a++)h<<=1,f===t-1?(f=0,m.push(n(h)),h=0):f++;for(r=c.charCodeAt(0),a=0;a<8;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1}else{for(r=1,a=0;a<g;a++)h=h<<1|r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r=0;for(r=c.charCodeAt(0),a=0;a<16;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1}0===--d&&(d=Math.pow(2,g),g++),delete s[c]}else for(r=l[c],a=0;a<g;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1;0===--d&&(d=Math.pow(2,g),g++),l[i]=u++,c=String(o)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(a=0;a<g;a++)h<<=1,f===t-1?(f=0,m.push(n(h)),h=0):f++;for(r=c.charCodeAt(0),a=0;a<8;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1}else{for(r=1,a=0;a<g;a++)h=h<<1|r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r=0;for(r=c.charCodeAt(0),a=0;a<16;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1}0===--d&&(d=Math.pow(2,g),g++),delete s[c]}else for(r=l[c],a=0;a<g;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1;0===--d&&(d=Math.pow(2,g),g++)}for(r=2,a=0;a<g;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1;for(;;){if(h<<=1,f===t-1){m.push(n(h));break}f++}return m.join("")},decompress:function(t){return null==t?"":""===t?null:i._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,t,n){for(var a,r,o,i,l,s,c=[],d=4,u=4,g=3,m="",h=[],f={val:n(0),position:t,index:1},p=0;p<3;p+=1)c[p]=p;for(r=0,i=Math.pow(2,2),l=1;l!==i;)o=f.val&f.position,f.position>>=1,0===f.position&&(f.position=t,f.val=n(f.index++)),r|=(0<o?1:0)*l,l<<=1;switch(r){case 0:for(r=0,i=Math.pow(2,8),l=1;l!==i;)o=f.val&f.position,f.position>>=1,0===f.position&&(f.position=t,f.val=n(f.index++)),r|=(0<o?1:0)*l,l<<=1;s=w(r);break;case 1:for(r=0,i=Math.pow(2,16),l=1;l!==i;)o=f.val&f.position,f.position>>=1,0===f.position&&(f.position=t,f.val=n(f.index++)),r|=(0<o?1:0)*l,l<<=1;s=w(r);break;case 2:return""}for(a=c[3]=s,h.push(s);;){if(f.index>e)return"";for(r=0,i=Math.pow(2,g),l=1;l!==i;)o=f.val&f.position,f.position>>=1,0===f.position&&(f.position=t,f.val=n(f.index++)),r|=(0<o?1:0)*l,l<<=1;switch(s=r){case 0:for(r=0,i=Math.pow(2,8),l=1;l!==i;)o=f.val&f.position,f.position>>=1,0===f.position&&(f.position=t,f.val=n(f.index++)),r|=(0<o?1:0)*l,l<<=1;c[u++]=w(r),s=u-1,d--;break;case 1:for(r=0,i=Math.pow(2,16),l=1;l!==i;)o=f.val&f.position,f.position>>=1,0===f.position&&(f.position=t,f.val=n(f.index++)),r|=(0<o?1:0)*l,l<<=1;c[u++]=w(r),s=u-1,d--;break;case 2:return h.join("")}if(0===d&&(d=Math.pow(2,g),g++),c[s])m=c[s];else{if(s!==u)return null;m=a+a.charAt(0)}h.push(m),c[u++]=a+m.charAt(0),a=m,0===--d&&(d=Math.pow(2,g),g++)}}});function ee(e,t){if(!a[e]){a[e]={};for(var n=0;n<e.length;n++)a[e][e.charAt(n)]=n}return a[e][t]}"function"==typeof define&&define.amd?define("LZString",function(){return Q}):"undefined"!=typeof module&&null!=module&&(module.exports=Q),Math.round10||(Math.round10=function(e,t){return n="round",e=e,void 0!==(t=t)&&0!=+t?(e=+e,t=+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math[n](+(e[0]+"e"+(e[1]?+e[1]-t:-t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+t:t)))):Math[n](e);var n});var te,T,P,b,C,O,x,k,ne,e,ae,re=3e4,oe="active",ie="completed",le="https://api.smartocto.com/api/brands/tentacles",A="t"===localStorage.getItem("tentaclesEnabled"),N=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls")),se=(localStorage.removeItem("tentacles_user_id"),localStorage.removeItem("tentacle_pagedata"),localStorage.removeItem("tentacles_pagedata"),localStorage.removeItem("tentacles_domainregex"),localStorage.removeItem("tentacles_useDivolte"),localStorage.removeItem("tentacles_reading_time"),localStorage.removeItem("tentacles_basePaths"),localStorage.removeItem("tentacles_urls"),localStorage.removeItem("tentacles_data_layer_config"),localStorage.removeItem("tentacles_page_urls"),localStorage.removeItem("tentacles_excludeclasses"),localStorage.removeItem("tentacles_domainsearchpath"),localStorage.removeItem("tentacles_urls_time"),localStorage.removeItem("tentacles_useIngestionApi"),localStorage.removeItem("tentacles_activefilter"),localStorage.removeItem("tentacles_dockcache_time"),localStorage.removeItem("tentacles_domainvpath"),localStorage.removeItem("tentacles_xPathIds"),localStorage.removeItem("tentacles_currentHostname"),localStorage.removeItem("tentacles_replacementElements"),localStorage.removeItem("tentacles_useDivInReplacement"),se||{}),ce=!0,de=!0,E=[],ue=[],ge="",D=!1,me="",he="",L="",J=[],R=!1,U=[],M=!1,j=null,B=!1,F=!1,q=!1,X=!1,Y=null,H=null,V=null,G=null,W=null;function fe(e,t,n){for(var a=0;a<e.length;a++)if(e[a][t]===n)return e[a];return null}function pe(e){for(var t=function(e){var t,n,a,r=0,o=[];if(""===e.trim())return[];if(/[^0-9a-fA-F]/.test(e))return!1;for(n=(t=e.match(/.{1,2}/g)).length,a=0;a<n;++a)""!==t[a].trim()&&(o[r++]=parseInt(t[a],16));return o}(e),n="",a=0;a<t.length;a+=2)n+=String.fromCharCode(t[a]|t[a+1]<<8);return n}function _e(e){for(var t=[],n=0;n<e.length;n++){var a=e.charCodeAt(n);t.push(255&a),t.push(a>>8&255)}var r,o,i,l=t,s="";if(!function(e){return"object"==typeof e&&e instanceof Array}(l))return!1;for(o=l.length,r=0;r<o;++r)l[r]<0&&(l[r]=l[r]+256),void 0===l[r]&&(alert("Boom "+r),l[r]=0),1===(i=l[r].toString(16)).length&&(i="0"+i),s+=i;return s.trim()}function we(){return new Promise(function(t,n){try{window&&window.tentacles.hasOwnProperty("pageType")&&(window.tentacles.pageType.toLowerCase()===r?t(!0):t(!1));var e=localStorage.getItem("tentacles_"+y+"_basePaths");null!==e?-1===JSON.parse(e).indexOf(window.location.pathname)?t(!0):t(!1):v().then(function(e){t(!!e)})}catch(e){n(e)}})}function v(u){return new Promise(function(t,n){try{var e,a,r=localStorage.getItem("tentacles_"+y+"_domainregex"),o=null!==(o=localStorage.getItem("tentacles_"+y+"_domainregex_on_params"))&&"true"===o,i=localStorage.getItem("tentacles_"+y+"_domainvpath"),l=new RegExp(i,"g"),s=localStorage.getItem("tentacles_"+y+"_basePaths"),c=o?window.location.href:window.location.pathname,d=!1;u&&(c=u),i&&(d=l.test(c)),r?(e=new RegExp(r,"g").exec(c))&&2<=e.length?(e.splice(0,1),a=e.filter(function(e){if(e)return e}).map(function(e){return e.toString()})[0],s?Le("feed"+a).then(function(e){e=e.substring(0,20);t(d?"v"+e:e)}):t(d?"v"+a:a)):t():s?Le("feed"+c).then(function(e){e=e.substring(0,20);t(d?"v"+e:e)}):t()}catch(e){n(e)}})}function Se(){return new Promise(function(e,t){window.ingestion&&void 0!==window.ingestion?e(!0):Ae({url:window.tentacles.installUri?window.tentacles.installUri+"/ingestion.js":"https://tentacles.smartocto.com/ten/ingestion.js?v=1716451034746",defer:!0,async:!0}).then(()=>{void 0===window.ingestion&&window.module&&window.module.exports&&(window.ingestion=window.module.exports),e(!0)}).catch(e=>{S.error("IngestionApi failed to load: ",e),t(!1)})})}function Ie(i){return new Promise(function(n,t){var e,a,r,o;A?n(!0):(e=window&&window.tentacles&&window.tentacles.brandId?window.tentacles.brandId:void 0,a=window&&window.tentacles&&window.tentacles.relationId?window.tentacles.relationId:void 0,r=Re(),i&&"object"==typeof i&&(i.brandId&&(e=i.brandId),i.relationId&&(a=i.relationId),i.channel&&(r=i.channel)),o={},Se().then(()=>{o.channel=r,o.brandId=e;const t=Te();t===u?a?(o.relationId=null,o.pageType=t,window.ingestion.signal("pageView",o),n(!0)):ye().then(e=>{o.relationId=e,o.pageType=t,window.ingestion.signal("pageView",o),n(!0)}):(o.pageType=t,a&&(o.relationId=a),window.ingestion.signal("pageView",o),n(!0))}).catch(e=>{S.error("IngestionApi failed to load: ",e),t(!1)}))})}function ve(o,i,l){return new Promise(function(n,a){if(i=i||localStorage.getItem("tentacles_linkClick"),o&&i)try{var e=pe(i),e=Q.decompressFromUTF16(e),t=JSON.parse(e);function r(e,t){Se().then(()=>{t&&!A?F&&(ingestion.signal(e,t),n()):S.warn("Tentacles desktop is activated no data is sent.")}).catch(e=>{S.error("IngestionApi failed to load: ",e),a(e)})}t.relationId=o,localStorage.getItem("tentacles_linkClick")&&localStorage.removeItem("tentacles_linkClick"),Pe("linkclick")?l?r(l,t):a("Click event cannot be sent because type is not defined."):(c=setTimeout(r,500,"linkClick",t),m=setTimeout(r,1e4,"loyaltyClick",t))}catch(e){d(e),localStorage.getItem("tentacles_linkClick")&&localStorage.removeItem("tentacles_linkClick"),a(e)}})}function ye(){return new Promise(function(t,n){try{Le("landing"+function(e){var t=document.querySelector("link[rel='canonical']"),n=document.querySelector("meta[property='og:url']");{if(null!==t)return t.getAttribute("href");if(null!==n)return n.getAttribute("content");if(e)return e}return document.URL}()).then(function(e){e=e.substring(0,20);t(e)})}catch(e){n(e)}})}function Te(){return window&&window.tentacles.hasOwnProperty("pageType")&&window.tentacles.pageType.toLowerCase()===u?u:r}function Pe(t){return!!(window.tentacles.manualEvents&&0<window.tentacles.manualEvents.split(",").filter(function(e){return e.trim().toLowerCase()===t.trim().toLowerCase()}).length)}function be(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(e,t):n=null,n}function Ce(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLocaleLowerCase()).replace(/\+/g,"")).replace(/\*/g,"")).replace(/\-/g,"")).replace(/\=/g,"")).replace(/&&/g,"")).replace(/||/g,"")).replace(/>/g,"")).replace(/</g,"")).replace(/!/g,"")).replace(/\(/g,"")).replace(/\)/g,"")).replace(/{/g,"")).replace(/}/g,"")).replace(/\[/g,"")).replace(/]/g,"")).replace(/^/g,"")).replace(/"/g,"")).replace(/~/g,"")).replace(/\?/g,"")).replace(/:/g,"")).replace(/\\/g,"")).replace(/\//g,"")}function Oe(e){var t,n={};if(null===e||!Array.isArray(e))return null;for(t in e){var a,r=e[t];for(a in r)if(r[a]&&r[a].mapping){var o=r[a].mapping;if(o)for(var i=0;i<o.length;i++){var l=o[i],s=l.inputField,c="["!==s.substring(0,1)?".":"",c="["!==s.substring(0,1)?s:a+c+s,s=l.outputField;s in n&&n[s]||(n[s]=function(e){try{var t=null;a=(a=e).replace(/\[(\d+)]/g,".$1"),r=window[a.substring(0,a.indexOf("."))],a=a.substring(a.indexOf(".")+1);var n=String(a).split(".").reduce(function(e,t){try{e=e[t]}catch(e){return null}return e},r);return t=n?"string"==typeof n||n instanceof String?n.split("!").join("&#33;"):n:t}catch(e){S.error(e)}var a,r}(c))}}}return n}function xe(e,l,s){var c,n,a;e&&2<e.length&&(null!==(c=Oe(e=JSON.parse(e)))&&null!==l&&(n=l,a=s,new Promise((t,e)=>{Le(Ce(n+"_"+a)).then(e=>{t(e)})}).then(e=>{var t,n,a,r=Te(),o=c,i=(r===u&&(t=(a=new Date).getUTCFullYear(),n=("0"+(a.getUTCMonth()+1)).slice(-2),a=("0"+a.getUTCDate()).slice(-2),o.date=t+"-"+n+"-"+a),function(e){try{var t=K.encode(JSON.stringify(e)),n=t.length,a=0;if(n<16)return t;for(var r=0;r<n;r++)a+=t.charCodeAt(r);return Ce(K.encode(t.substring(0,8)+"-"+t.substring(n/2-4,n/2+4)+"-"+t.substring(n-8,n)+"-"+a))}catch(e){S.error(e)}}(c));c.hash=i,c.brandId=l,c.documentId=e,c.channel=Re(),(c.pageType=r)===u&&(c.relationId=s,c.hasOwnProperty("title")&&c.title||(c.title=document.title)),Z=setTimeout(function(){var t,n;A||(t=function(){F&&ingestion.signal("dataLayer",c),clearTimeout(Z)},(n=be("get","https://api.smartocto.com/api/brands/"+l+"/dataLayer/"+e+"_"+i))&&(n.onreadystatechange=function(){var e;4===this.readyState&&200===this.status&&(e=JSON.parse(n.responseText))&&!1===e.match&&t()},n.send()))},2e4)})))}function ke(){return new Promise(function(a){function m(e){return e.replace(/[^\w\s]/gi,"")}function h(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])<0)return;return 1}var e,n=[],r=[],l=(R=null!==(R=localStorage.getItem("tentacles_"+y+"_useDivInReplacement"))&&"true"===R,localStorage.getItem("tentacles_"+y+"_basePaths")),o=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls"));function s(t,n,a){let r=0;for(let e=0;e<n.length;e++){var o,i,l,s=a[e]||"",c=[],d=function(e){for(var t,n=/\b\w+\b/g,a=[];(t=n.exec(e))&&a.push(m(t[0])););return a}(n[e]);if("a"===t.tagName.toLowerCase()&&1===t.childNodes.length&&"#text"===t.childNodes[0].nodeName&&h(d,m(t.innerText))&&t.innerText.length<=n[e].length+4)c.push([t.children.length,t]);else{R&&(g=void 0,(null===(g=localStorage.getItem("tentacles_"+y+"_replacementElements"))||"undefined"===g?[]:JSON.parse(g)).map(function(e){-1===f.indexOf(e)&&f.push(e)}));for(var u=0;u<f.length;u++)for(o=f[u],i=t.querySelectorAll(o),l=0;l<i.length;l++)i[l]&&h(d,m(i[l].innerText))&&i[l].innerText.length<=n[e].length+4&&function(e){if(!(e instanceof Element))return!1;var t=getComputedStyle(e);return"none"!==t.display&&("visible"===t.visibility&&(!(t.opacity<.1)&&e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width!==0))}(i[l])&&c.push([i[l].children.length,i[l]])}c.length&&(c.sort(function(e,t){return t[0]-e[0]}),g=c.pop(),(element=g[1]).innerText=s,r++)}var g;return r===n.length}function c(n,a){return new Promise((t,e)=>{!n.includes("b-cdn.net")&&!n.includes("smartocto.com")||0<=r.indexOf(n)?t({isReachable:!0,titleLocation:a}):fetch(n,{method:"HEAD"}).then(e=>{r.push(n),200===e.status?t({isReachable:!0,titleLocation:a}):(S.error(`Failed to fetch the URL: ${n}. Status code: `+e.status),t({isReachable:!1,titleLocation:a}))}).catch(e=>{S.error(`An error occurred while trying to fetch the URL: ${n} `+e),t({isReachable:!1,titleLocation:a})})})}function d(n,a,e){let r=0;if(0<e.length){const l=[];for(let t=0;t<a.length;t++){for(let e=0;e<g.length;e++){var o=g[e],i=n.querySelectorAll(o);for(let e=0;e<i.length;e++){const s=i[e];s&&(s.src.includes(a[t])||s.srcset.includes(a[t]))&&l.push({childrenCount:s.children.length,element:s})}}if(l.length){l.sort((e,t)=>t.childrenCount-e.childrenCount);const c=l.pop().element;c.src&&""!==c.src&&(c.src=c.src.split(a[t]).join(e[t])),c.srcset&&""!==c.srcset&&(c.srcset=c.srcset.split(a[t]).join(e[t])),r++}}}return r===a.length}o&&0<o.length?(e=o.map(function(i){return new Promise(function(t){var o,e;0<=n.indexOf(i.relationId)?t():(n.push(i.relationId),o=i.relationId,i.hasOwnProperty("type")&&"video"===i.type&&(o=i.relationId.substring(1)),e=(l&&0<l.length?Array.from(document.querySelectorAll('a[tentacle-id^="'+o+'"]')):Array.from(document.querySelectorAll('a[href*="'+o+'"]'))).map(function(r){return new Promise(function(n){var t,e,a;"1"===r.getAttribute("data-tentacles-r")?n():(e=J,t=Array.from(r.classList),e&&Array.isArray(e)&&0<e.length&&t&&Array.isArray(t)&&0<t.length&&0<e.filter(function(e){return-1<t.indexOf(e)}).length?n():(a=e=!1,i.hasOwnProperty("oldTitle")&&i.hasOwnProperty("newTitle")&&(e=!0),i.hasOwnProperty("oldPictures")&&i.hasOwnProperty("newPictures")&&0<r.querySelectorAll("img").length&&(a=!0),e&&a?c(i.newPictures[0],r).then(function(e){var t;e.isReachable?(t=e=!1,e=s(r,i.oldTitle.split("$$"),i.newTitle.split("$$")),t=d(r,i.oldPictures,i.newPictures),e&&t?(r.setAttribute("data-tentacles-r","1"),n(o)):s(r,i.newTitle.split("$$"),i.oldTitle.split("$$"))||d(r,i.newPictures,i.oldPictures)||(r.removeAttribute("data-tentacles-r"),S.error("TENTACLES: Title and picture restore failed and could be caused by a missing match in the title.","oldTitle",JSON.stringify(i.oldTitle.split("$$")),"newTitle",JSON.stringify(i.newTitle.split("$$"),"oldPictures",JSON.stringify(i.oldPictures),"newPictures",JSON.stringify(i.newPictures))))):S.error("TENTACLES: The new picture is not reachable",i.newPictures[0]),n()}).catch(function(e){S.error("TENTACLES: An error occurred during picture and title replacement: "+e),n()}):e&&!a?new Promise((e,t)=>{e(!0)}).then(function(e){s(r,i.oldTitle.split("$$"),i.newTitle.split("$$"))&&(r.setAttribute("data-tentacles-r","1"),n(o)),n()}).catch(function(e){S.error("TENTACLES: An error occurred during title replacement: "+e),n()}):a&&!e?c(i.newPictures[0],r).then(function(e){var t=e.titleLocation;e.isReachable?d(t,i.oldPictures,i.newPictures)?(t.setAttribute("data-tentacles-r","1"),n(o)):d(t,i.newPictures,i.oldPictures)||(t.removeAttribute("data-tentacles-r"),S.warn("TENTACLES: Restoring original picture failed and could be caused by a missing match in original picture paths.","oldPictures",JSON.stringify(i.oldPictures),"newPictures",JSON.stringify(i.newPictures))):S.error("TENTACLES: The new picture is not reachable",i.newPictures[0]),n()}).catch(function(e){S.error("TENTACLES: An error occurred during picture replacement: "+e),n()}):n()))})}),Promise.all(e).then(function(e){t(e)}))})}),Promise.all(e).then(function(e){e=e.map(function(e){return e?e.filter(function(e){return null!=e}):[]}).filter(function(e){return 0<e.length}).map(function(e){return e[0]});for(var t=0;t<e.length;t++)ue.push(e[t]);var n=o.filter(function(e){var t=e.hasOwnProperty("type")&&"video"===e.type?e.relationId.substring(1):e.relationId;return"active"===e.status&&-1<ue.indexOf(t)}).map(function(e){return{headerTestId:e.id,headerTestChosenId:e.chosen}});p=setTimeout(function e(t){var n;F&&void 0!==window.ingestion?(n=localStorage.getItem("tentacles_"+y+"_brand"),0<t.length&&!A&&(n={brandId:n,impressions:JSON.stringify(t)},F&&ingestion.signal("impressions",n))):p=setTimeout(e,250,t)},1e3,n),window.tentaclesProcessedABTitles=!0,a()})):a()})}function Ae(r){return new Promise((e,t)=>{const n=document.createElement("script"),a=(n.onerror=t,r.url||t(new Error("oops no scriptURL defined to load")),n.type="text/javascript",n.onload=e,r.hasOwnProperty("defer")&&"boolean"==typeof r.defer&&(n.defer=r.defer),r.hasOwnProperty("async")&&"boolean"==typeof r.async&&(n.async=r.async),n.src=r.url,document.body);a?"body-top"===r.location?a.insertBefore(n,a.firstChild):a.appendChild(n):addEventListener("DOMContentLoaded",()=>{document.body.appendChild(n)})})}function Ne(e){var t,n;return t=window.navigator.userAgent,(0<(n=t.indexOf("MSIE "))?parseInt(t.substring(n+5,t.indexOf(".",n)),10):0<t.indexOf("Trident/")?(n=t.indexOf("rv:"),parseInt(t.substring(n+3,t.indexOf(".",n)),10)):0<(n=t.indexOf("Edge/"))&&parseInt(t.substring(n+5,t.indexOf(".",n)),10))?"object"==typeof window.wgxpath?window.document.createExpression(e).evaluate(window.document,XPathResult.STRING_TYPE):void Ae({url:WGXPATH_URL,defer:!0,async:!1}).then(()=>(wgxpath.install(),window.document.createExpression(e).evaluate(window.document,XPathResult.STRING_TYPE))).catch(e=>{S.error("wgxpath script loading error:",e)}):(new XPathEvaluator).createExpression(e).evaluate(document,XPathResult.FIRST_ORDERED_NODE_TYPE).singleNodeValue}function Ee(){return window.crypto||window.msCrypto}function De(e){for(var t="",n=new DataView(e),a=0;a<n.byteLength;a+=4){var r="00000000";t+=(r+n.getUint32(a).toString(16)).slice(-r.length)}return t}function Le(e){try{var t=(new TextEncoder).encode(e);return Ee().subtle.digest("SHA-256",t).then(De)}catch(e){d(e)}}function Je(){return new Promise(function(I,t){try{clearInterval(tentacle_timer_apply);var v,e=localStorage.getItem("tentacles_"+y+"_urls_time"),n=localStorage.getItem("tentacles_"+y+"_dockcache_time"),a=new Date;null!==e&&a<new Date(e)&&(E=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls")),ce=!1),A&&null!==n&&a<new Date(n)&&(de=!1),ce||A&&de?(v=be("get",le+"?i="+y+(A?"&dock=true":"")))&&(v.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(v.responseText);if(E=e.headerTests,ge=e.domainSettings.regex,D="true"===String(e.domainSettings.regex_on_params).toLocaleLowerCase(),L=e.domainSettings.vPath,te=e.domainSettings.searchPath,T=e.domainSettings.mapping,P=window&&window.tentacles&&window.tentacles.brandId?window.tentacles.brandId:e.domainSettings.brand,me=e.domainSettings.mainContent,he=e.domainSettings.excludeContent,M=e.domainSettings.xPathIds,J=e.domainSettings.excludeClasses,R=e.domainSettings.useDivInReplacement,U=e.domainSettings.replacementElements,j=e.domainSettings.dataLayerConfig,B=e.domainSettings.collectReadingtime,b=e.domainSettings.basePaths,k=e.domainSettings.ignorePaths,C=e.domainSettings.customCss,q=e.domainSettings.doNotTrackUserId,O=e.domainSettings.urls,F="true"===String(e.domainSettings.useIngestionApi).toLocaleLowerCase(),X="true"===String(e.domainSettings.imageTesting).toLocaleLowerCase(),x=e.domainSettings.features,e.domainSettings.hasOwnProperty("ai")&&null!==e.domainSettings.ai&&(Y=e.domainSettings.ai.clientId,H=e.domainSettings.ai.publicationTimeFrom,V=e.domainSettings.ai.publicationTimeTo,G=e.domainSettings.ai.northstars,W=e.domainSettings.ai.goals),null===localStorage.getItem("tentacles_"+y+"_urls")){for(var t=!(N=[]),n=0,a=E.length;n<a;n++)if(0!==E[n].testData.length){var r,t=!1,o={};if(E[n].status===oe)o.chosen=E[n].chosen,t=!0;else if(E[n].status===ie)for(var i=0,l=E[n].testData.length;i<l;i++)if(E[n].testData[i].won){t=!0,o.chosen=E[n].testData[i].id;break}o.id=E[n].id,o.relationId=E[n].relationId,o.status=E[n].status,o.oldTitle=E[n].testData[0].title,E[n].hasOwnProperty("pictures")&&(o.oldPictures=E[n].testData[0].pictures),o.type=E[n].hasOwnProperty("type")?E[n].type:"story",!1===t?(o.newTitle=o.oldTitle,o.hasOwnProperty("oldPictures")&&(o.newPictures=o.oldPictures)):(r=fe(E[n].testData,"id",o.chosen),o.newTitle=r.title,r.hasOwnProperty("pictures")&&(o.newPictures=r.pictures)),0===o.chosen&&t||N.push(o)}localStorage.setItem("tentacles_"+y+"_domainsearchpath",te),localStorage.setItem("tentacles_"+y+"_urls",JSON.stringify(N)),localStorage.setItem("tentacles_"+y+"_domainregex",ge),localStorage.setItem("tentacles_"+y+"_brand",P),localStorage.setItem("tentacles_"+y+"_main_content",me),localStorage.setItem("tentacles_"+y+"_exclude_content",he),D?localStorage.setItem("tentacles_"+y+"_domainregex_on_params",D):localStorage.removeItem("tentacles_"+y+"_domainregex_on_params"),J?localStorage.setItem("tentacles_"+y+"_excludeclasses",JSON.stringify(J)):localStorage.removeItem("tentacles_"+y+"_excludeclasses"),U?localStorage.setItem("tentacles_"+y+"_replacementElements",JSON.stringify(U)):localStorage.removeItem("tentacles_"+y+"_replacementElements"),L?localStorage.setItem("tentacles_"+y+"_domainvpath",L):localStorage.removeItem("tentacles_"+y+"_domainvpath"),T?localStorage.setItem("tentacles_"+y+"_pagemapping",JSON.stringify(T)):localStorage.removeItem("tentacles_"+y+"_pagemapping"),M?localStorage.setItem("tentacles_"+y+"_xPathIds",M):localStorage.removeItem("tentacles_"+y+"_xPathIds"),R?localStorage.setItem("tentacles_"+y+"_useDivInReplacement",JSON.stringify(R)):localStorage.removeItem("tentacles_"+y+"_useDivInReplacement"),j?localStorage.setItem("tentacles_"+y+"_data_layer_config",JSON.stringify(j)):localStorage.removeItem("tentacles_"+y+"_data_layer_config"),B?localStorage.setItem("tentacles_"+y+"_reading_time",JSON.stringify(B)):localStorage.removeItem("tentacles_"+y+"_reading_time"),b?localStorage.setItem("tentacles_"+y+"_basePaths",JSON.stringify(b)):localStorage.removeItem("tentacles_"+y+"_basePaths"),k?localStorage.setItem("tentacles_"+y+"_ignorePaths",JSON.stringify(k)):localStorage.removeItem("tentacles_"+y+"_ignorePaths"),q?localStorage.setItem("tentacles_"+y+"_doNotTrackUserId",q):localStorage.removeItem("tentacles_"+y+"_doNotTrackUserId"),F?localStorage.setItem("tentacles_"+y+"_useIngestionApi",F):localStorage.removeItem("tentacles_"+y+"_useIngestionApi"),O&&localStorage.setItem("tentacles_"+y+"_page_urls",JSON.stringify(O)),C&&localStorage.setItem("tentacles_"+y+"_customCss",C),X&&localStorage.setItem("tentacles_"+y+"_imageTesting",X),x&&localStorage.setItem("tentacles_"+y+"_features",JSON.stringify(x)),Y&&localStorage.setItem("tentacles_"+y+"_ai_client_id",Y),H&&localStorage.setItem("tentacles_"+y+"_ai_publication_time_from",H),V&&localStorage.setItem("tentacles_"+y+"_ai_publication_time_to",V),G&&localStorage.setItem("tentacles_"+y+"_ai_northstars",G),W&&localStorage.setItem("tentacles_"+y+"_ai_goals",W),localStorage.setItem("tentacles_"+y+"_urls_time",""+new Date((new Date).getTime()+re)),A&&localStorage.setItem("tentacles_"+y+"_dockcache_time",""+new Date((new Date).getTime()+re)),I()}else{var s=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls")),c=!1;if(0===E.length)localStorage.removeItem("tentacles_"+y+"_urls");else{for(var d,u=E.map(function(e){return e.id}),g=0;g<E.length;g++)if(0!==E[g].testData.length){for(var c=!1,m=0;m<s.length;m++)if(s[m].id===E[g].id){for(var h=0,f=E[g].testData.length;h<f;h++)if(E[g].testData[h].won){s[m].chosen=E[g].testData[h].id;break}s[m].status=E[g].status,(p=fe(E[g].testData,"id",E[g].chosen))&&(s[m].type=E[g].type,s[m].chosen=E[g].chosen,p.hasOwnProperty("title")&&(s[m].newTitle=p.title),p.hasOwnProperty("pictures")&&(s[m].newPictures=p.pictures)),c=!0;break}if(!1===c){var p,w={};if(E[g].status===oe)w.chosen=E[g].chosen,c=!0;else if(E[g].status===ie)for(var m=0,S=E[g].testData.length;m<S;m++)if(E[g].testData[m].won){c=!0,w.chosen=E[g].testData[m].id;break}w.id=E[g].id,w.relationId=E[g].relationId,w.status=E[g].status,w.oldTitle=E[g].testData[0].title,E[g].hasOwnProperty("pictures")&&(w.oldPictures=E[g].testData[0].pictures),w.type=E[g].hasOwnProperty("type")?E[g].type:"story",!1===c?(w.newTitle=w.oldTitle,w.newPictures=w.oldPictures):(p=fe(E[g].testData,"id",w.chosen),w.newTitle=p.title,p.hasOwnProperty("pictures")&&(w.newPictures=p.pictures)),0===w.chosen&&c||s.push(w)}}0<E.length&&(d=s.filter(function(e){if(-1!==u.indexOf(e.id))return!0})),localStorage.setItem("tentacles_"+y+"_urls",JSON.stringify(d)),N=d}localStorage.setItem("tentacles_"+y+"_domainsearchpath",te),localStorage.setItem("tentacles_"+y+"_domainregex",ge),localStorage.setItem("tentacles_"+y+"_brand",P),me?localStorage.setItem("tentacles_"+y+"_main_content",me):localStorage.removeItem("tentacles_"+y+"_main_content"),he?localStorage.setItem("tentacles_"+y+"_exclude_content",he):localStorage.removeItem("tentacles_"+y+"_exclude_content"),D?localStorage.setItem("tentacles_"+y+"_domainregex_on_params",JSON.stringify(D)):localStorage.removeItem("tentacles_"+y+"_domainregex_on_params"),J?localStorage.setItem("tentacles_"+y+"_excludeclasses",JSON.stringify(J)):localStorage.removeItem("tentacles_"+y+"_excludeclasses"),U?localStorage.setItem("tentacles_"+y+"_replacementElements",JSON.stringify(U)):localStorage.removeItem("tentacles_"+y+"_replacementElements"),L?localStorage.setItem("tentacles_"+y+"_domainvpath",L):localStorage.removeItem("tentacles_"+y+"_domainvpath"),T?localStorage.setItem("tentacles_"+y+"_pagemapping",JSON.stringify(T)):localStorage.removeItem("tentacles_"+y+"_pagemapping"),M?localStorage.setItem("tentacles_"+y+"_xPathIds",M):localStorage.removeItem("tentacles_"+y+"_xPathIds"),R?localStorage.setItem("tentacles_"+y+"_useDivInReplacement",JSON.stringify(R)):localStorage.removeItem("tentacles_"+y+"_useDivInReplacement"),j?localStorage.setItem("tentacles_"+y+"_data_layer_config",JSON.stringify(j)):localStorage.removeItem("tentacles_"+y+"_data_layer_config"),B?localStorage.setItem("tentacles_"+y+"_reading_time",JSON.stringify(B)):localStorage.removeItem("tentacles_"+y+"_reading_time"),b?localStorage.setItem("tentacles_"+y+"_basePaths",JSON.stringify(b)):localStorage.removeItem("tentacles_"+y+"_basePaths"),k?localStorage.setItem("tentacles_"+y+"_ignorePaths",JSON.stringify(k)):localStorage.removeItem("tentacles_"+y+"_ignorePaths"),C?localStorage.setItem("tentacles_"+y+"_customCss",C):localStorage.removeItem("tentacles_"+y+"_customCss"),O?localStorage.setItem("tentacles_"+y+"_page_urls",JSON.stringify(O)):localStorage.removeItem("tentacles_"+y+"_page_urls"),q?localStorage.setItem("tentacles_"+y+"_doNotTrackUserId",q):localStorage.removeItem("tentacles_"+y+"_doNotTrackUserId"),F?localStorage.setItem("tentacles_"+y+"_useIngestionApi",F):localStorage.removeItem("tentacles_"+y+"_useIngestionApi"),X?localStorage.setItem("tentacles_"+y+"_imageTesting",X):localStorage.removeItem("tentacles_"+y+"_imageTesting"),x?localStorage.setItem("tentacles_"+y+"_features",JSON.stringify(x)):localStorage.removeItem("tentacles_"+y+"_features"),Y&&localStorage.setItem("tentacles_"+y+"_ai_client_id",Y),H&&localStorage.setItem("tentacles_"+y+"_ai_publication_time_from",H),V&&localStorage.setItem("tentacles_"+y+"_ai_publication_time_to",V),G&&localStorage.setItem("tentacles_"+y+"_ai_northstars",G),W&&localStorage.setItem("tentacles_"+y+"_ai_goals",W),localStorage.setItem("tentacles_"+y+"_urls_time",""+new Date((new Date).getTime()+re)),A&&localStorage.setItem("tentacles_"+y+"_dockcache_time",""+new Date((new Date).getTime()+re)),I()}}},v.send()):I()}catch(e){d(e),t(e)}})}function Re(){return window&&window.tentacles&&window.tentacles.channel?window.tentacles.channel:"web"}function Ue(){clearInterval(tentacle_timer_apply);function s(e){if(!(5e3<Date.now()-c)){var t=localStorage.getItem("tentacles_"+y+"_brand"),n=localStorage.getItem("tentacles_"+y+"_main_content"),a=localStorage.getItem("tentacles_"+y+"_exclude_content"),r="true"===String(localStorage.getItem("tentacles_"+y+"_reading_time"))||"false"!==String(localStorage.getItem("tentacles_"+y+"_reading_time"))&&void 0;if(window.ingestion&&t&&e){if(e&&r){r={brandId:t,relationId:e,mainContent:n,excludeContent:a};try{var o=F&&void 0!==window.ingestion?window.ingestion:void 0,i=r,l=o;try{A||("function"==typeof trackReadingTime?(se=se&&{},trackReadingTime(i,l)):Ae({url:window.tentacles.installUri?window.tentacles.installUri+"/reading-time.js":"https://tentacles.smartocto.com/ten/reading-time.js?v=1716451034746",defer:!0,async:!0}).then(function(){trackReadingTime(i,l)}).catch(function(e){S.error("Loading error trackReadingTime:",e)}))}catch(e){S.error(e)}}catch(e){S.error(e)}}}else h=setTimeout(function(){s(e)},500)}}var c=Date.now();function t(){return new Promise(function(r,e){var o=document.body.getElementsByTagName("a"),i=0;for(var t=[],l=[],n=0;n<o.length;n++)t.push(function(n){return new Promise(function(t,e){v(n).then(function(e){t({relationId:e,path:n})})})}(o[n].getAttribute("href")));Promise.all(t).then(function(e){l=e}).catch(function(e){S.error(e)}).finally(function(){for(var e=0;e<o.length;e++){var t=o[e].getAttribute("href"),n=o[e],a=l.filter(function(e){return e.path===t});0<a.length&&a[0].relationId&&n.setAttribute("tentacle-id",a[0].relationId+"-"+i.toString(16)),i++}r(!0)})})}function n(){var c,d,h={},u=localStorage.getItem("tentacles_"+y+"_pagemapping"),f=localStorage.getItem("tentacles_"+y+"_domainsearchpath"),p="true"===localStorage.getItem("tentacles_"+y+"_xPathIds"),g=localStorage.getItem("tentacles_"+y+"_domainregex"),m=localStorage.getItem("tentacles_"+y+"_basePaths");function w(e,t,n){var a=e.attributes.href.nodeValue,r=e.getAttribute("tentacle-id"),o=function(e,t){if(N)for(var n=0;n<N.length;n++){var a=N[n].relationId;if(N[n].hasOwnProperty("type")&&"video"===N[n].type&&(a=N[n].relationId.substring(1)),(0<=e.indexOf(a)||t===N[n].relationId)&&0<=ue.indexOf(a))return{relationId:N[n].relationId,id:N[n].id,chosenId:N[n].chosen,status:N[n].status,type:N[n].type}}}(a,r?r.split("-")[0]:void 0),o=o&&o.status===oe?(c=o.id,o.chosenId):c=-1,i={brandId:P,linkPath:a,linkXPath:function e(t,n){if(""!==t.id&&n)return"id('"+t.id+"')";if(t===document.body)return t.tagName.toLowerCase();for(var a=0,r=t.parentNode?t.parentNode.childNodes:[],o=0;o<r.length;o++){var i=r[o];if(i===t)return e(t.parentNode,n)+"/"+t.tagName.toLowerCase()+"["+(a+1)+"]";1===i.nodeType&&i.tagName===t.tagName&&a++}}(e,p),linkSourcePath:location.pathname,headerTestId:c,headerTestChosenId:o},a={top:0,left:0};if(f){var l,s,c=f.split("|");if(2===c.length)try{"class"===c[0]?1<=(l=document.getElementsByClassName(c[1])).length&&(a=l[0].getBoundingClientRect()):a=document.getElementById(c[1]).getBoundingClientRect()}catch(e){S.error(e)}try{var d=e.getBoundingClientRect(),u=d.top-a.top,g=d.left-a.left,m=(n&&(g=d.left-n.left),{linkX1:Math.round10(g,1),linkX2:Math.round10(g+d.width,1),linkY1:Math.round10(u,1),linkY2:Math.round10(u+d.height,1),linkHeight:Math.round10(d.height,1),linkWidth:Math.round10(d.width,1)});m.linkPosition=void 0===t?location.pathname+"_"+m.linkX1+"_"+m.linkY1+"_"+m.linkX2+"_"+m.linkY2:location.pathname+"_"+m.linkX1+"_"+m.linkY1+"_"+m.linkX2+"_"+m.linkY2+"_"+t}catch(e){S.error(e)}for(s in m)i[s]=m[s]}else S.error("NO domain_searchpath!");o=Q.compressToUTF16(JSON.stringify(i));h[r]=_e(o),window.tentacles_pageData=h,Pe("linkclick")||e.addEventListener("click",function(e){var t=window.tentacles_pageData;I("getPagedata",t),I("tentacleId",r),I("getPagedata[tentacleId]",t[r]),localStorage.setItem("tentacles_linkClick",t[r])})}P=localStorage.getItem("tentacles_"+y+"_brand"),we().then(function(e){if(e)z(),S.log("Tentacles is initiating Article Page"),Pe("linkclick")||v(window.location.href).then(function(e){ve(e)}),window.tentacles.initiated=!0;else{S.log("Tentacles is initiating Index Page"),g||m||S.error("Domain's regex and optional basePaths are missing");var t=g&&RegExp(g);if(u){if(d=JSON.parse(u))for(var n in c=d["*"],c=d[window.location.pathname]?d[window.location.pathname]:c)if(c.hasOwnProperty(n)){var a=Ne(c[n]);if(a)for(var r=(r=Array.from(a.getElementsByTagName("a"))).filter(function(e){return t?e.href&&t.test(e.href):e.href}),o=a.getBoundingClientRect(),i=0;i<r.length;i++)w(r[i],n,o)}}else for(var l=(l=Array.from(document.body.getElementsByTagName("a"))).filter(e=>t?e.href&&t.test(e.href):e.href),s=0;s<l.length;s++)w(l[s]);window.tentacles.initiated=!0}})}Pe("pageview")||Ie(),Je().then(function(){I("populateCaching ended"),F=F||"true"===localStorage.getItem("tentacles_"+y+"_useIngestionApi"),A||(F||S.error("Tentacles: No data can be collected for smartocto's Tentacles, please check configuration values"),we().then(function(e){e?v(window.location.href).then(function(e){var t;e&&(window.tentaclesProcessedABTitles=!0,document.body?n():window.addEventListener("DOMContentLoaded",function(){n()}),j=localStorage.getItem("tentacles_"+y+"_data_layer_config"),(t=localStorage.getItem("tentacles_"+y+"_brand"))&&j&&(I("call sendDataLayer"),xe(j,t,e)),s(e))}):(t().then(function(e){e&&ke().then(function(e){document.body?n():window.addEventListener("DOMContentLoaded",function(){n()})})}),(x=localStorage.getItem("tentacles_"+y+"_features")?JSON.parse(localStorage.getItem("tentacles_"+y+"_features")):[]).includes("landingPages")&&Te()===u&&ye().then(function(e){j=localStorage.getItem("tentacles_"+y+"_data_layer_config");var t=localStorage.getItem("tentacles_"+y+"_brand");t&&j&&(I("call sendDataLayer"),xe(j,t,e)),s(e)}))})),S.log("smartocto's Tentacles "+window.tentacles.version+" loaded..."),o&&S.log("Tentacles flicker handling is active")}).catch(function(e){d("error in populateCaching",e)})}I("Initializing Tentacles"),window.tentacles?(window.tentacles.ready=function(){return window.tentacles.initiated},window.tentacles.readyPromise=function(){return new Promise((e,t)=>{window.tentacles.ready()?e(!0):(tentacle_timer_ready=setTimeout(window.tentacles.readyPromise,100,e),e(!1))})},window.tentacles.onVideoPlay=function(t){if(t&&t.videoId&&t.title)try{t.brandId=localStorage.getItem("tentacles_"+y+"_brand"),t.channel=Re(),v(window.location.href).then(function(e){t.relationId=e}).finally(function(){window.ingestion.signal("videoPlay",t)})}catch(e){d("Error on video play event",e)}else S.error("Invalid video play request.",JSON.stringify(t))},window.tentacles.sendLinkClick=function(l){return new Promise((t,e)=>{var n=l.tentacleId,a=l.relationId;let r="";if(n){const o=window.tentacles_pageData[n];if(o)if(a)ve(a,o,"linkClick").then(()=>{t(!0)});else{const i=document.querySelector('a[tentacle-id="'+n+'"]');i.hasAttribute("href")?v(i.href).then(e=>{ve(e,o,"linkClick").then(()=>{t(!0)})}):e(r=`Invalid link click request, we need a valid relationId or a valid link href for tentacleId ${n}.`)}else e(r=`Could not find link data for tentacleId ${n}. First start data collection with window.postMessage('activateTentacles') and check if the global variable window.tentacles.ready() or window.tentacles.readyPromise() is positive to make sure all required data is collected.`)}else e(r="Invalid request, we expect an object with the following structure: { tentacleId: string, relationId: string }, where relationId is optional.")}).catch(e=>{reject("Error on linkClick event",e)})},window.tentacles.sendPageView=function(e){return new Promise((t,n)=>{Ie(e).then(e=>{e?t(!0):n("Page view event failed")}).catch(e=>{n(e)})}).catch(e=>(S.error("Error on page view event",e),!1))}):S.error("Tentacles is not loaded, please check if the script is loaded correctly."),window.tentaclesExecuted?I("%cTentacles: Skipping execution!","background: #EE191E; color: white; padding: 2px 4px; border-radius: 4px 0px 0px 4px;"):(k=localStorage.getItem("tentacles_"+y+"_ignorePaths"),ne=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls")),(e=document.createElement("style")).innerHTML=".tentacles-flicker-handling img, .tentacles-flicker-handling source { display: none; }",document.head.appendChild(e),ne&&0<ne.length&&ne.filter(e=>-1!==[oe,ie].indexOf(e.status)&&e.hasOwnProperty("pictures")&&0<e.pictures.length)&&(o&&document.body.classList.add("tentacles-flicker-handling"),setTimeout(()=>{z()},1e3)),e=!1,(e=k&&0<=JSON.parse(k).indexOf(window.location.pathname)?!0:e)?I("%cTentacles: Skipping execution on "+window.location.pathname+"!","background: #EE191E; color: white; padding: 2px 4px; border-radius: 4px 0px 0px 4px;"):A?(z(),function(){try{return window.self!==window.top}catch(e){return 1}}()||(tentacle_timer_apply=setInterval(function(){y&&!ae&&Je().then(function(){Ae({location:"body-top",url:t}).then(function(){ae=!0}).catch(function(e){S.error("Error loading admin script:",e)})}).catch(function(e){d(e)})},100))):tentacle_timer_apply=setInterval(function(){y&&!ae&&(Ue(),ae=!0)},100)),window.addEventListener("message",function(e){"activateTentacles"!==e.data&&"stopTentacles"!==e.data||(clearTimeout(c),clearTimeout(s),clearTimeout(m),clearTimeout(h),clearTimeout(p),clearTimeout(Z),localStorage.getItem("tentacles_"+y+"_reading_time")&&(clearInterval(window.tentacles_at_timer_sample),clearInterval(window.tentacles_at_timer_send_beat)),"activateTentacles"!==e.data||A||Ue())},!1),window.tentaclesExecuted=!0}("undefined"==typeof t&&(t={}));